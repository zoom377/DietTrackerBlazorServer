@page "/AddHealthDataPoint"
@inherits DTComponentBase
@using DietTrackerBlazorServer.Areas.Identity
@using Microsoft.AspNetCore.Identity
@using Microsoft.EntityFrameworkCore


@if (_HealthMetrics.Count > 0)
{

    @for (int i = 0; i < _HealthMetrics.Count; i++)
    {
        var metric = _HealthMetrics[i];
        var healthDataPoint = _DataPoints[i];
        <MudField Label="@metric.Name"
                  Variant="Variant.Filled"
                  Class="border-b-4">
            <div class="d-flex flex-nowrap gap-4 justify-space-around align-center">
                <MudIcon Icon="@Icons.Material.Filled.Circle" Style="@($"color: {metric.Color};")" />
                <MudText>@healthDataPoint.Value</MudText>
                <MudSlider @bind-Value="healthDataPoint.Value" Min="0" Max="10" />
            </div>
        </MudField>
    }
}
else
{
    <MudText Typo="Typo.h6"
             Class="justify-center">You need to <MudLink Href="/HealthMetrics">add a Health Metric</MudLink> before adding a data point.</MudText>
}





